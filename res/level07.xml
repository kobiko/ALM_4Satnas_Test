<ttImport>TabTaleMacros.xml</ttImport>
<ttScene> <!-- Hidden objects minigame-->
	<ttImport>hiddenObjectsMacros.xml</ttImport>

	<ttName>level07</ttName>

    <ttBackgroundMusicFile>sounds/music/hidden_objects_level_2_7_11_14.mp3</ttBackgroundMusicFile>
    <ttBackgroundMusicVolume>0.50</ttBackgroundMusicVolume>
		<!-- HIDDEN OBJECTS INITIALIZATION-->

		<!--This is where you set 3 presets for the thrown objects possitions, their variable names and the number of valid objects from them-->

	<ttInitScript>
        hiddenObj.hiddenObjectsInit = function()
        math.randomseed(os.time())
		hiddenObj.setValidObjects({10,11,12,13,14,15})
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        whatPreset = math.random(1, 3)
        vars:setVar("whatPreset", whatPreset)
        if (whatPreset == 1) then
	        vars:setVar("item10PosX", 41.2477)
	        vars:setVar("item10PosY", 51.9274)
	        vars:setVar("item10Scale", 1.1)
	        vars:setVar("item10IsFlipped", "NO")
			vars:setVar("item11PosX", 79.3538)
	        vars:setVar("item11PosY", 65.7542)
	        vars:setVar("item11Scale", 0.7)
	        vars:setVar("item11IsFlipped", "YES")	        
			vars:setVar("item12PosX", 96.2756)
	        vars:setVar("item12PosY", 35)
	        vars:setVar("item12Scale", 1.1)	
	        vars:setVar("item12IsFlipped", "YES")			
			vars:setVar("item13PosX", 31.98287)
	        vars:setVar("item13PosY", 77.067)
	        vars:setVar("item13Scale", 0.8)	
	        vars:setVar("item13IsFlipped", "YES")			
			vars:setVar("item14PosX", 22.2533)
	        vars:setVar("item14PosY", 27.6034)
	        vars:setVar("item14Scale", 1.1)
	        vars:setVar("item14IsFlipped", "NO")	        
			vars:setVar("item15PosX", 84.3575)
	        vars:setVar("item15PosY", 52.1174)
	        vars:setVar("item15Scale", 1.1)
	        vars:setVar("item15IsFlipped", "YES")			
	        vars:setVar("item01PosX", 96.8546)
	        vars:setVar("item01PosY", 19.5682)
	        vars:setVar("item01Rotate", 0)
	        vars:setVar("item01Scale", 1)	
	        vars:setVar("item01IsFlipped", "NO")	
	        vars:setVar("item02PosX", 86.2644)
	        vars:setVar("item02PosY", 58.9106)
			vars:setVar("item02Rotate", -11.27)
	        vars:setVar("item02Scale", 1)	
	        vars:setVar("item02IsFlipped", "NO")		        
			vars:setVar("item03PosX", 36.9646)
	        vars:setVar("item03PosY", 25.5307)
			vars:setVar("item03Rotate", 0)
	        vars:setVar("item03Scale", 1)	
	        vars:setVar("item03IsFlipped", "NO")	
	        vars:setVar("item04PosX", 69.1806)
	        vars:setVar("item04PosY", 33.4916)
			vars:setVar("item04Rotate", 0)
	        vars:setVar("item04Scale", 1)	
	        vars:setVar("item04IsFlipped", "NO")	
	        vars:setVar("item05PosX", 87.2439)
	        vars:setVar("item05PosY", 47.3184)
			vars:setVar("item05Rotate", 0)
	        vars:setVar("item05Scale", 1)	
	        vars:setVar("item05IsFlipped", "NO")	
	        vars:setVar("item06PosX", 56.5177)
	        vars:setVar("item06PosY", 49.5531)
			vars:setVar("item06Rotate", 0)
	        vars:setVar("item06Scale", 1)	
	        vars:setVar("item06IsFlipped", "NO")	
	        vars:setVar("item07PosX", 42.4581)
	        vars:setVar("item07PosY", 37.8492)
			vars:setVar("item07Rotate", 0)
	        vars:setVar("item07Scale", 1)	
	        vars:setVar("item07IsFlipped", "NO")	
	        vars:setVar("item08PosX", 14.8045)
	        vars:setVar("item08PosY", 23.0168)
			vars:setVar("item08Rotate", 0)
	        vars:setVar("item08Scale", 1.2)	
	        vars:setVar("item08IsFlipped", "NO")	
	        vars:setVar("item09PosX", 92.4581)
	        vars:setVar("item09PosY", 29.3017)
			vars:setVar("item09Rotate", 0)	  
	        vars:setVar("item09Scale", 1)	
	        vars:setVar("item09IsFlipped", "NO")				
			vars:setVar("item16PosX", 84.4581)
	        vars:setVar("item16PosY", 25.5017)
			vars:setVar("item16Rotate", 0)
	        vars:setVar("item16Scale", 1.2)	
	        vars:setVar("item16IsFlipped", "NO")	
       	elseif (whatPreset == 2) then
	        vars:setVar("item10PosX", 39.5717)
	        vars:setVar("item10PosY", 50.5308)
	        vars:setVar("item10Scale", 1.1)
	        vars:setVar("item10IsFlipped", "NO")
			vars:setVar("item11PosX", 45.8067)
	        vars:setVar("item11PosY", 35.5246)
	        vars:setVar("item11Scale", 0.9)
	        vars:setVar("item11IsFlipped", "YES")	        
			vars:setVar("item12PosX", 73.8)
	        vars:setVar("item12PosY", 27)
	        vars:setVar("item12Scale", 1.1)	
	        vars:setVar("item12IsFlipped", "NO")			
			vars:setVar("item13PosX", 72.6257)
	        vars:setVar("item13PosY", 49.162)
	        vars:setVar("item13Scale", 0.9)	
	        vars:setVar("item13IsFlipped", "YES")			
			vars:setVar("item14PosX", 11.0801)
	        vars:setVar("item14PosY", 47.5977)
	        vars:setVar("item14Scale", 1.1)
	        vars:setVar("item14IsFlipped", "YES")	        
			vars:setVar("item15PosX", 23)
	        vars:setVar("item15PosY", 21.6201)
	        vars:setVar("item15Scale", 1.1)
	        vars:setVar("item15IsFlipped", "YES")			
	        vars:setVar("item01PosX", 81.5125)
	        vars:setVar("item01PosY", 29.6257)
	        vars:setVar("item01Rotate", 4.79)
	        vars:setVar("item01Scale", 1)	
	        vars:setVar("item01IsFlipped", "YES")	
	        vars:setVar("item02PosX", 76.4431)
	        vars:setVar("item02PosY", 35.0279)
			vars:setVar("item02Rotate", -72.66)
	        vars:setVar("item02Scale", 1.07)	
	        vars:setVar("item02IsFlipped", "YES")		        
			vars:setVar("item03PosX", 63.9665)
	        vars:setVar("item03PosY", 23.1564)
			vars:setVar("item03Rotate", 0)
	        vars:setVar("item03Scale", 1)	
	        vars:setVar("item03IsFlipped", "YES")	
	        vars:setVar("item04PosX", 53.3519)
	        vars:setVar("item04PosY", 16.0335)
			vars:setVar("item04Rotate", 0)
	        vars:setVar("item04Scale", 1.39)	
	        vars:setVar("item04IsFlipped", "NO")	
	        vars:setVar("item05PosX", 62.2904)
	        vars:setVar("item05PosY", 48.1564)
			vars:setVar("item05Rotate", 0)
	        vars:setVar("item05Scale", 1)	
	        vars:setVar("item05IsFlipped", "YES")	
	        vars:setVar("item06PosX", 93.7617)
	        vars:setVar("item06PosY", 47.8771)
			vars:setVar("item06Rotate", 0)
	        vars:setVar("item06Scale", 1.29)	
	        vars:setVar("item06IsFlipped", "YES")	
	        vars:setVar("item07PosX", 82.8678)
	        vars:setVar("item07PosY", 49.0224)
			vars:setVar("item07Rotate", 0)
	        vars:setVar("item07Scale", 0.6)	
	        vars:setVar("item07IsFlipped", "YES")	
	        vars:setVar("item08PosX", 11.4525)
	        vars:setVar("item08PosY", 19.8045)
			vars:setVar("item08Rotate", 0)
	        vars:setVar("item08Scale", 1.2)	
	        vars:setVar("item08IsFlipped", "NO")	
	        vars:setVar("item09PosX", 41.8063)
	        vars:setVar("item09PosY", 35.8659)
			vars:setVar("item09Rotate", 0)	  
	        vars:setVar("item09Scale", 1)	
	        vars:setVar("item09IsFlipped", "YES")				
			vars:setVar("item16PosX", 15.9218)
	        vars:setVar("item16PosY", 27.0447)
			vars:setVar("item16Rotate", 0)
	        vars:setVar("item16Scale", 1.2)	
	        vars:setVar("item16IsFlipped", "NO")
        else
	        vars:setVar("item10PosX", 41.2477)
	        vars:setVar("item10PosY", 51.9274)
	        vars:setVar("item10Scale", 1)
	        vars:setVar("item10IsFlipped", "NO")
			vars:setVar("item11PosX", 79.3538)
	        vars:setVar("item11PosY", 65.7542)
	        vars:setVar("item11Scale", 0.6)
	        vars:setVar("item11IsFlipped", "YES")	        
			vars:setVar("item12PosX", 96.2756)
	        vars:setVar("item12PosY", 35)
	        vars:setVar("item12Scale", 1.1)	
	        vars:setVar("item12IsFlipped", "YES")			
			vars:setVar("item13PosX", 31.98287)
	        vars:setVar("item13PosY", 77.067)
	        vars:setVar("item13Scale", 0.7)	
	        vars:setVar("item13IsFlipped", "YES")			
			vars:setVar("item14PosX", 22.2533)
	        vars:setVar("item14PosY", 27.6034)
	        vars:setVar("item14Scale", 1)
	        vars:setVar("item14IsFlipped", "NO")	        
			vars:setVar("item15PosX", 84.3575)
	        vars:setVar("item15PosY", 52.1174)
	        vars:setVar("item15Scale", 1)
	        vars:setVar("item15IsFlipped", "YES")			
	        vars:setVar("item01PosX", 96.8546)
	        vars:setVar("item01PosY", 19.5682)
	        vars:setVar("item01Rotate", 0)
	        vars:setVar("item01Scale", 1)	
	        vars:setVar("item01IsFlipped", "NO")	
	        vars:setVar("item02PosX", 86.2644)
	        vars:setVar("item02PosY", 58.9106)
			vars:setVar("item02Rotate", -11.27)
	        vars:setVar("item02Scale", 1)	
	        vars:setVar("item02IsFlipped", "NO")		        
			vars:setVar("item03PosX", 36.9646)
	        vars:setVar("item03PosY", 25.5307)
			vars:setVar("item03Rotate", 0)
	        vars:setVar("item03Scale", 1)	
	        vars:setVar("item03IsFlipped", "NO")	
	        vars:setVar("item04PosX", 69.1806)
	        vars:setVar("item04PosY", 33.4916)
			vars:setVar("item04Rotate", 0)
	        vars:setVar("item04Scale", 1)	
	        vars:setVar("item04IsFlipped", "NO")	
	        vars:setVar("item05PosX", 87.2439)
	        vars:setVar("item05PosY", 47.3184)
			vars:setVar("item05Rotate", 0)
	        vars:setVar("item05Scale", 1)	
	        vars:setVar("item05IsFlipped", "NO")	
	        vars:setVar("item06PosX", 56.5177)
	        vars:setVar("item06PosY", 49.5531)
			vars:setVar("item06Rotate", 0)
	        vars:setVar("item06Scale", 1)	
	        vars:setVar("item06IsFlipped", "NO")	
	        vars:setVar("item07PosX", 42.4581)
	        vars:setVar("item07PosY", 37.8492)
			vars:setVar("item07Rotate", 0)
	        vars:setVar("item07Scale", 1)	
	        vars:setVar("item07IsFlipped", "NO")	
	        vars:setVar("item08PosX", 14.8045)
	        vars:setVar("item08PosY", 23.0168)
			vars:setVar("item08Rotate", 0)
	        vars:setVar("item08Scale", 1.2)	
	        vars:setVar("item08IsFlipped", "NO")	
	        vars:setVar("item09PosX", 92.4581)
	        vars:setVar("item09PosY", 29.3017)
			vars:setVar("item09Rotate", 0)	  
	        vars:setVar("item09Scale", 1)	
	        vars:setVar("item09IsFlipped", "NO")				
			vars:setVar("item16PosX", 84.4581)
	        vars:setVar("item16PosY", 25.5017)
			vars:setVar("item16Rotate", 0)
	        vars:setVar("item16Scale", 1.2)	
	        vars:setVar("item16IsFlipped", "NO")
        end

        end
        hiddenObj.hiddenObjectsInit ()


    </ttInitScript>
	<ttLayer> <!-- background -->
		<ttName>backgroundLayer</ttName>
		<ttObject> <!-- bkg INIT -->
			<ttImage>backgrounds/level07_bkg.jpg</ttImage>
			<ttIsBackground>YES</ttIsBackground>
			<ttBasePosition x="50" y="50" />
            <ttActionsGroup>
                <ttTrigger>automatic</ttTrigger>
                <ttSequenceGroup>
					<ttAction>
						<ttType>setMultiTouch</ttType>
						<ttIntValue>0</ttIntValue>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>sendNotification</ttType>
						<ttNotificationIdentifyer>setRandomHint</ttNotificationIdentifyer>
					</ttAction>	
				</ttSequenceGroup>
			</ttActionsGroup>
            <ttActionsGroup> <!-- background music control-->
                <ttTrigger>automatic</ttTrigger>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>pauseBackgroundMusic</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup> <!-- background music control for story and intro  -->
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>story.close</ttNotificationIdentifyer>
				<ttOperator>
					<ttScript>return (stopBackgroundMusic ~= 1)</ttScript>
				</ttOperator>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>resumeBackgroundMusic</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
			<ttActionsGroup>
				<ttTrigger>automatic</ttTrigger>
				<ttSequenceGroup>
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>time</ttVariable>
						<ttOperator>
							<ttScript>return 10</ttScript>
						</ttOperator>
					</ttAction>
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>correctObjectsCounter</ttVariable>
						<ttOperator>
							<ttScript>return 0</ttScript>
						</ttOperator>
					</ttAction>
                    <ttAction>
                        <ttType>setVariable</ttType>
                        <ttVariable>objectThatHasBeenTouched</ttVariable>
                        <ttOperator>
                            <ttScript>return 0</ttScript>
                        </ttOperator>
                    </ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>	
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>muchProgress</ttVariable>
						<ttOperator>
							<ttScript>return 0</ttScript>
						</ttOperator>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>selectedIndex</ttVariable>
						<ttOperator>
							<ttScript>return 0</ttScript> 
						</ttOperator>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>sendNotification</ttType>
						<ttNotificationIdentifyer>minigame.initiate</ttNotificationIdentifyer>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>sendNotification</ttType>
						<ttNotificationIdentifyer>items.activate</ttNotificationIdentifyer>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction ttType="sendNotification" ttNotificationIdentifyer="startHOPointer"/>
				</ttSequenceGroup>
			</ttActionsGroup>
		</ttObject>
        <ttObject><!--narrations controller-->
            <ttImage>images/fullBlocker.png</ttImage>
            <ttBasePosition x="0" y="0" />
			<ttActionsGroup>
				<ttTrigger>notification</ttTrigger>
				<ttNotificationIdentifyer>correctObjectDubbing</ttNotificationIdentifyer>
				<ttOperator>
					<ttScript>return (correctObjectsCounter ~= 5)</ttScript>
				</ttOperator>
				<ttSequenceGroup>
					<ttAction>
						<ttType>playSound</ttType>
						<ttFile>sounds/narrations/fireflies/oh_thank_you.mp3</ttFile>
						<ttFile>sounds/narrations/fireflies/oh_thank_you-01.mp3</ttFile>
						<ttFile>sounds/narrations/fireflies/oh_thank_you-02.mp3</ttFile>
						<ttVolume>1</ttVolume>
					</ttAction>
				</ttSequenceGroup>
			</ttActionsGroup>
			<ttActionsGroup>
				<ttTrigger>notification</ttTrigger>
				<ttNotificationIdentifyer>correctObjectDubbing</ttNotificationIdentifyer>
				<ttOperator>
					<ttScript>return (correctObjectsCounter == 5)</ttScript>
				</ttOperator>
				<ttSequenceGroup>
					<ttAction>
						<ttType>playSound</ttType>
						<ttFile>sounds/narrations/fireflies/go_santa.mp3</ttFile>
						<ttFile>sounds/narrations/fireflies/rescued.mp3</ttFile>
						<ttVolume>1</ttVolume>
					</ttAction>
				</ttSequenceGroup>
			</ttActionsGroup>
		</ttObject>
	</ttLayer>


	<ttLayer><!--tableObjects-->
		<ttName>thrownObject07sLayer</ttName>
		<ttObject>
			<ttImage>images/fullBlocker.png</ttImage>
			<ttBasePosition x="50" y="70" />
			<ttScale>256</ttScale>
			<ttOpacity>0</ttOpacity>
			<ttActionsGroup>
				<ttTrigger>automatic</ttTrigger>
				<ttSequenceGroup>
					<ttAction>
						<ttType>enableObject</ttType>
					</ttAction>
				</ttSequenceGroup>
			</ttActionsGroup>
			<ttActionsGroup>
				<ttTrigger>onTouchesBegan</ttTrigger>
				<ttSequenceGroup>
					<ttAction>
						<ttType>sendNotification</ttType>
						<ttNotificationIdentifyer>xMarksTheSpotMovement</ttNotificationIdentifyer>
					</ttAction>
					<ttAction>
						<ttType>sendNotification</ttType>
						<ttNotificationIdentifyer>xMarksTheSpot</ttNotificationIdentifyer>
					</ttAction>
					<ttAction>
						<ttType>delay</ttType>
						<ttActionDuration>0.5</ttActionDuration>
					</ttAction>
				</ttSequenceGroup>
			</ttActionsGroup>
		</ttObject>
		<ttMacroInvoke macro_name="firefly" >
			<ttMacroParam name="$variableX" value="#item10PosX"/>
			<ttMacroParam name="$variableY" value="#item10PosY"/>
			<ttMacroParam name="$scale" value="#item10Scale"/>
			<ttMacroParam name="$isFlipped" value="#item10IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.24"/>
			<ttMacroParam name="$whatItemAmI" value="10"/>
			<ttMacroParam name="$specificParticles" value="particlesFound10"/>
			<ttMacroParam name="$specificHint" value="specificHint10"/>
		</ttMacroInvoke>
		<ttMacroInvoke macro_name="firefly" >
			<ttMacroParam name="$variableX" value="#item11PosX"/>
			<ttMacroParam name="$variableY" value="#item11PosY"/>
			<ttMacroParam name="$scale" value="#item11Scale"/>
			<ttMacroParam name="$isFlipped" value="#item11IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.3"/>
			<ttMacroParam name="$whatItemAmI" value="11"/>
			<ttMacroParam name="$specificParticles" value="particlesFound11"/>
			<ttMacroParam name="$specificHint" value="specificHint11"/>
		</ttMacroInvoke>		
		<ttMacroInvoke macro_name="firefly" >
			<ttMacroParam name="$variableX" value="#item12PosX"/>
			<ttMacroParam name="$variableY" value="#item12PosY"/>
			<ttMacroParam name="$scale" value="#item12Scale"/>
			<ttMacroParam name="$isFlipped" value="#item12IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.3"/>
			<ttMacroParam name="$whatItemAmI" value="12"/>
			<ttMacroParam name="$specificParticles" value="particlesFound12"/>
			<ttMacroParam name="$specificHint" value="specificHint12"/>
		</ttMacroInvoke>		
		<ttMacroInvoke macro_name="firefly" >
			<ttMacroParam name="$variableX" value="#item13PosX"/>
			<ttMacroParam name="$variableY" value="#item13PosY"/>
			<ttMacroParam name="$scale" value="#item13Scale"/>
			<ttMacroParam name="$isFlipped" value="#item13IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.3"/>
			<ttMacroParam name="$whatItemAmI" value="13"/>
			<ttMacroParam name="$specificParticles" value="particlesFound13"/>
			<ttMacroParam name="$specificHint" value="specificHint13"/>
		</ttMacroInvoke>			
		<ttMacroInvoke macro_name="firefly" >
			<ttMacroParam name="$variableX" value="#item14PosX"/>
			<ttMacroParam name="$variableY" value="#item14PosY"/>
			<ttMacroParam name="$scale" value="#item14Scale"/>
			<ttMacroParam name="$isFlipped" value="#item14IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.3"/>
			<ttMacroParam name="$whatItemAmI" value="14"/>
			<ttMacroParam name="$specificParticles" value="particlesFound14"/>
			<ttMacroParam name="$specificHint" value="specificHint14"/>
		</ttMacroInvoke>
		<ttMacroInvoke macro_name="firefly" >
			<ttMacroParam name="$variableX" value="#item15PosX"/>
			<ttMacroParam name="$variableY" value="#item15PosY"/>
			<ttMacroParam name="$scale" value="#item15Scale"/>
			<ttMacroParam name="$isFlipped" value="#item15IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.3"/>
			<ttMacroParam name="$whatItemAmI" value="15"/>
			<ttMacroParam name="$specificParticles" value="particlesFound15"/>
			<ttMacroParam name="$specificHint" value="specificHint15"/>
		</ttMacroInvoke>
		<ttObject>
			<ttImage>images/level07/wallBack.png</ttImage>
			<ttBasePosition x="76.257" y="69.2458" />
		</ttObject>
		<ttObject>
			<ttImage>images/level07/wallfront.png</ttImage>
			<ttBasePosition x="14.0596" y="74.2737" />
		</ttObject>		
		<ttObject>
			<ttImage>images/level07/cellDoor2.png</ttImage>
			<ttBasePosition x="41.9926" y="50.5308" />
		</ttObject>	
		<ttObject>
			<ttImage>images/level07/cellDoor1.png</ttImage>
			<ttBasePosition x="9.59032" y="46.2011" />
		</ttObject>
		<ttObject>
			<ttImage>images/level07/torch.png</ttImage>
			<ttBasePosition x="38.8268" y="67.0112" />
			<ttScale>1.227</ttScale>
		</ttObject>		
 		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/bookStall.png"/>
			<ttMacroParam name="$variableX" value="#item09PosX"/>
			<ttMacroParam name="$variableY" value="#item09PosY"/>
			<ttMacroParam name="$rotate" value="#item09Rotate"/>
			<ttMacroParam name="$scale" value="#item09Scale"/>
			<ttMacroParam name="$isFlipped" value="#item09IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="9"/>
			<ttMacroParam name="$specificParticles" value="particlesFound9"/>
			<ttMacroParam name="$specificHint" value="specificHint9"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/boards.png"/>
			<ttMacroParam name="$variableX" value="#item01PosX"/>
			<ttMacroParam name="$variableY" value="#item01PosY"/>
			<ttMacroParam name="$rotate" value="#item01Rotate"/>
			<ttMacroParam name="$scale" value="#item01Scale"/>
			<ttMacroParam name="$isFlipped" value="#item01IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="1"/>
			<ttMacroParam name="$specificParticles" value="particlesFound1"/>
			<ttMacroParam name="$specificHint" value="specificHint1"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/axe.png"/>
			<ttMacroParam name="$variableX" value="#item02PosX"/>
			<ttMacroParam name="$variableY" value="#item02PosY"/>
			<ttMacroParam name="$rotate" value="#item02Rotate"/>
			<ttMacroParam name="$scale" value="#item02Scale"/>
			<ttMacroParam name="$isFlipped" value="#item02IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="2"/>
			<ttMacroParam name="$specificParticles" value="particlesFound2"/>
			<ttMacroParam name="$specificHint" value="specificHint2"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
 		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/bottle.png"/>
			<ttMacroParam name="$variableX" value="#item03PosX"/>
			<ttMacroParam name="$variableY" value="#item03PosY"/>
			<ttMacroParam name="$rotate" value="#item03Rotate"/>
			<ttMacroParam name="$scale" value="#item03Scale"/>
			<ttMacroParam name="$isFlipped" value="#item03IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="3"/>
			<ttMacroParam name="$specificParticles" value="particlesFound3"/>
			<ttMacroParam name="$specificHint" value="specificHint3"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
 		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/bucket.png"/>
			<ttMacroParam name="$variableX" value="#item04PosX"/>
			<ttMacroParam name="$variableY" value="#item04PosY"/>
			<ttMacroParam name="$rotate" value="#item04Rotate"/>
			<ttMacroParam name="$scale" value="#item04Scale"/>
			<ttMacroParam name="$isFlipped" value="#item04IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="4"/>
			<ttMacroParam name="$specificParticles" value="particlesFound4"/>
			<ttMacroParam name="$specificHint" value="specificHint4"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
 		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/chest.png"/>
			<ttMacroParam name="$variableX" value="#item05PosX"/>
			<ttMacroParam name="$variableY" value="#item05PosY"/>
			<ttMacroParam name="$rotate" value="#item05Rotate"/>
			<ttMacroParam name="$scale" value="#item05Scale"/>
			<ttMacroParam name="$isFlipped" value="#item05IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="5"/>
			<ttMacroParam name="$specificParticles" value="particlesFound5"/>
			<ttMacroParam name="$specificHint" value="specificHint5"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
 		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/ladder.png"/>
			<ttMacroParam name="$variableX" value="#item06PosX"/>
			<ttMacroParam name="$variableY" value="#item06PosY"/>
			<ttMacroParam name="$rotate" value="#item06Rotate"/>
			<ttMacroParam name="$scale" value="#item06Scale"/>
			<ttMacroParam name="$isFlipped" value="#item06IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="6"/>
			<ttMacroParam name="$specificParticles" value="particlesFound6"/>
			<ttMacroParam name="$specificHint" value="specificHint6"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
 		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/pickaxe.png"/>
			<ttMacroParam name="$variableX" value="#item07PosX"/>
			<ttMacroParam name="$variableY" value="#item07PosY"/>
			<ttMacroParam name="$rotate" value="#item07Rotate"/>
			<ttMacroParam name="$scale" value="#item07Scale"/>
			<ttMacroParam name="$isFlipped" value="#item07IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="7"/>
			<ttMacroParam name="$specificParticles" value="particlesFound7"/>
			<ttMacroParam name="$specificHint" value="specificHint7"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
 		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/box.png"/>
			<ttMacroParam name="$variableX" value="#item08PosX"/>
			<ttMacroParam name="$variableY" value="#item08PosY"/>
			<ttMacroParam name="$rotate" value="#item08Rotate"/>
			<ttMacroParam name="$scale" value="#item08Scale"/>
			<ttMacroParam name="$isFlipped" value="#item08IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="8"/>
			<ttMacroParam name="$specificParticles" value="particlesFound8"/>
			<ttMacroParam name="$specificHint" value="specificHint8"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
 		<ttMacroInvoke macro_name="thrownObject07" >
			<ttMacroParam name="$imagePath" value="images/hiddenObjects/candle.png"/>
			<ttMacroParam name="$variableX" value="#item16PosX"/>
			<ttMacroParam name="$variableY" value="#item16PosY"/>
			<ttMacroParam name="$rotate" value="#item16Rotate"/>
			<ttMacroParam name="$scale" value="#item16Scale"/>
			<ttMacroParam name="$isFlipped" value="#item16IsFlipped"/>
			<ttMacroParam name="$whatDelayForEntrance" value="0.48"/>
			<ttMacroParam name="$whatItemAmI" value="16"/>
			<ttMacroParam name="$specificParticles" value="particlesFound16"/>
			<ttMacroParam name="$specificHint" value="specificHint16"/>
			<ttMacroParam name="$isValid" value="0"/>
		</ttMacroInvoke>
		<ttObject>
			<ttImage>images/fullBlocker.png</ttImage>
			<ttBasePosition x="50" y="50" />			
			<ttScale>0</ttScale>
			<ttOpacity>0</ttOpacity>
			<ttActionsGroup>
				<ttTrigger>onTouchesBegan</ttTrigger>
				<ttSequenceGroup/>	
			</ttActionsGroup>
			<ttActionsGroup>
				<ttTrigger>notification</ttTrigger>
				<ttNotificationIdentifyer>noTouching</ttNotificationIdentifyer>	
				<ttSequenceGroup>				
					<ttAction ttType="scale" ttScaleTo="2000"/>
				</ttSequenceGroup>
				<ttSequenceGroup>				
					<ttAction ttType="delay" ttActionDuration="1.6"/>
				</ttSequenceGroup>
				<ttSequenceGroup>				
					<ttAction ttType="scale" ttScaleTo="0"/>
				</ttSequenceGroup>
			</ttActionsGroup>
		</ttObject>					
		<ttObject>
			<ttImage>images/hiddenObjects/xMarksTheSpot.png</ttImage>
			<ttBasePosition x="-150" y="-150" />
			<ttScale>0</ttScale>
			<ttActionsGroup>
				<ttTrigger>automatic</ttTrigger>
				<ttSequenceGroup>
					<ttAction>
						<ttType>enableObject</ttType>
					</ttAction>
				</ttSequenceGroup>
			</ttActionsGroup>
			<ttActionsGroup>
				<ttTrigger>notification</ttTrigger>
				<ttNotificationIdentifyer>xMarksTheSpotMovement</ttNotificationIdentifyer>
				<ttSequenceGroup>
                    <ttAction>
                        <ttType>moveToTouch</ttType>
                    </ttAction>
                    <ttAction>
                        <ttType>bringToFront</ttType>
                    </ttAction>
                    <ttAction>
                        <ttType>setVariable</ttType>
                        <ttVariable>howMuchRotate</ttVariable>
                        <ttOperator>
                            <ttScript>ttRand(0,360)</ttScript>
                        </ttOperator>
                    </ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
                    <ttAction>
                        <ttType>scale</ttType>
                        <ttActionDuration>0.1</ttActionDuration>
                        <ttScaleTo>1</ttScaleTo>
                    </ttAction>
                    <ttAction>
                        <ttType>rotate</ttType>
                        <ttActionDuration>0</ttActionDuration>
                        <ttActionRotateAngle>#howMuchRotate</ttActionRotateAngle>
                    </ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
                    <ttAction>
                        <ttType>scale</ttType>
                        <ttActionDuration>0.3</ttActionDuration>
                        <ttScaleTo>0</ttScaleTo>
                    </ttAction>
				</ttSequenceGroup>
			</ttActionsGroup>
		</ttObject>
	</ttLayer>
	<ttLayer>
		<ttName>correctObjectLayer</ttName>

		<ttObject> <!-- holder -->
			<ttImage>images/fullBlocker.png</ttImage>
			<ttBasePosition x="-100" y="14" />
			<ttScale>0</ttScale>
		</ttObject>
	</ttLayer>
	<ttLayer><!--panel and validobjects-->
		<ttName>validObjectsLayer</ttName>
		
		<ttObject> <!-- init valid -->
 			<ttImage>images/hiddenObjects/hoUI/panel6.png</ttImage>
			<ttBasePosition x="50" y="8" />
			<ttActionsGroup>
				<ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>hiddenObjects.done</ttNotificationIdentifyer>		
					<ttSequenceGroup>
						<ttAction ttType="delay" ttActionDuration="0.5"/>
					</ttSequenceGroup>
	                <ttSequenceGroup>
	                    <ttAction>
	                        <ttType>loadLayer</ttType>
	                        <ttData>finalDecorationsLayer</ttData>
	                    </ttAction>
	                </ttSequenceGroup>		
			</ttActionsGroup>
			<ttActionsGroup>
				<ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>items.activate</ttNotificationIdentifyer>
				 <ttSequenceGroup>
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>panelItem01HasValue</ttVariable>
						<ttOperator>
							<ttScript>return 10</ttScript>
						</ttOperator>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>panelItem02HasValue</ttVariable>
						<ttOperator>
							<ttScript>return 11</ttScript>
						</ttOperator>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>panelItem03HasValue</ttVariable>
						<ttOperator>
							<ttScript>return 12</ttScript>
						</ttOperator>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>panelItem04HasValue</ttVariable>
						<ttOperator>
							<ttScript>return 13</ttScript>
						</ttOperator>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>panelItem05HasValue</ttVariable>
						<ttOperator>
							<ttScript>return 14</ttScript>
						</ttOperator>
					</ttAction>
				</ttSequenceGroup>				
				<ttSequenceGroup>
					<ttAction>
						<ttType>setVariable</ttType>
						<ttVariable>panelItem06HasValue</ttVariable>
						<ttOperator>
							<ttScript>return 15</ttScript>
						</ttOperator>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>initiate.panel</ttNotificationIdentifyer>
                    </ttAction>
				</ttSequenceGroup>
			</ttActionsGroup>
		</ttObject>
	</ttLayer>	
	<ttLayer ttName="panelItemsLayer">
	<ttBasePosition x="36" y="0" />	
		<ttMacroInvoke macro_name="validObjectStatic" >
			<ttMacroParam name="$image" value="images/level07/firefly.png"/>
			<ttMacroParam name="$imageRing" value="images/hiddenObjects/hoUI/panelRing.png"/>
			<ttMacroParam name="$posX" value="10"/>
			<ttMacroParam name="$posY" value="7.5"/>
			<ttMacroParam name="$whatIndex" value="10"/>
			<ttMacroParam name="$didIMove" value="item01Moved"/>
			<ttMacroParam name="$specificMessageForControll" value="1"/>
		</ttMacroInvoke>		
		<ttMacroInvoke macro_name="validObjectStatic" >
			<ttMacroParam name="$image" value="images/level07/firefly.png"/>
			<ttMacroParam name="$imageRing" value="images/hiddenObjects/hoUI/panelRing.png"/>
			<ttMacroParam name="$posX" value="26"/>
			<ttMacroParam name="$posY" value="7.2"/>
			<ttMacroParam name="$whatIndex" value="11"/>
			<ttMacroParam name="$didIMove" value="item02Moved"/>
			<ttMacroParam name="$specificMessageForControll" value="2"/>
		</ttMacroInvoke>		
		<ttMacroInvoke macro_name="validObjectStatic" >
			<ttMacroParam name="$image" value="images/level07/firefly.png"/>
			<ttMacroParam name="$imageRing" value="images/hiddenObjects/hoUI/panelRing.png"/>
			<ttMacroParam name="$posX" value="42"/>
			<ttMacroParam name="$posY" value="7.2"/>
			<ttMacroParam name="$whatIndex" value="12"/>
			<ttMacroParam name="$didIMove" value="item03Moved"/>
			<ttMacroParam name="$specificMessageForControll" value="3"/>
		</ttMacroInvoke>		
		<ttMacroInvoke macro_name="validObjectStatic" >
			<ttMacroParam name="$image" value="images/level07/firefly.png"/>
			<ttMacroParam name="$imageRing" value="images/hiddenObjects/hoUI/panelRing.png"/>
			<ttMacroParam name="$posX" value="58"/>
			<ttMacroParam name="$posY" value="7.2"/>
			<ttMacroParam name="$whatIndex" value="13"/>
			<ttMacroParam name="$didIMove" value="item04Moved"/>
			<ttMacroParam name="$specificMessageForControll" value="4"/>
		</ttMacroInvoke>		
		<ttMacroInvoke macro_name="validObjectStatic" >
			<ttMacroParam name="$image" value="images/level07/firefly.png"/>
			<ttMacroParam name="$imageRing" value="images/hiddenObjects/hoUI/panelRing.png"/>
			<ttMacroParam name="$posX" value="74"/>
			<ttMacroParam name="$posY" value="7.5"/>
			<ttMacroParam name="$whatIndex" value="14"/>
			<ttMacroParam name="$didIMove" value="item05Moved"/>
			<ttMacroParam name="$specificMessageForControll" value="5"/>
		</ttMacroInvoke>		
		<ttMacroInvoke macro_name="validObjectStatic" >
			<ttMacroParam name="$image" value="images/level07/firefly.png"/>
			<ttMacroParam name="$imageRing" value="images/hiddenObjects/hoUI/panelRing.png"/>
			<ttMacroParam name="$posX" value="90"/>
			<ttMacroParam name="$posY" value="7.5"/>
			<ttMacroParam name="$whatIndex" value="15"/>
			<ttMacroParam name="$didIMove" value="item06Moved"/>
			<ttMacroParam name="$specificMessageForControll" value="6"/>
		</ttMacroInvoke>
		<ttMacroInvoke macro_name="hoScroll" />
		<!--<ttMacroInvoke macro_name="checkmarksHiddenObject07"/> -->
	</ttLayer>
    <ttLayer ttName="thoughtsSantaLayer">
		<ttMacroInvoke macro_name="hoPointer">
			<ttMacroParam name="$posX" value="#item15PosX - 3.5"/>
			<ttMacroParam name="$posY" value="#item15PosY + 4"/>
		</ttMacroInvoke>
		<ttMacroInvoke macro_name="hoPanel" />
    </ttLayer>
	<ttLayer ttName="thoughtsLayer">
		<ttObject>
			<ttImage>images/level07/firefly.png</ttImage>
			<ttScale>0.8</ttScale>
			<ttBasePosition x="30" y="15" />
		</ttObject>		
    </ttLayer>
    <ttLayer ttName="finalDecorationsLayer"> 
        <ttLoadAtInit>no</ttLoadAtInit>
        <ttObject> <!-- ornament -->
            <ttImage>images/level01/ornamentBall_03.png</ttImage>
            <ttAnchorPositionX>0.50</ttAnchorPositionX>
            <ttAnchorPositionY>1.00</ttAnchorPositionY>
            <ttBasePosition x="72.7778" y="93.6198" />
            <ttScale>0</ttScale>
            <ttActionsGroup><!--end level music-->
                <ttTrigger>automatic</ttTrigger>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>pauseBackgroundMusic</ttType>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>playSound</ttType>
                        <ttFile>sounds/end_level_music.mp3</ttFile>
                        <ttVolume>1</ttVolume>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>automatic</ttTrigger>
                <ttTriggerDelay>2.5</ttTriggerDelay>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>1</ttScaleX>
                        <ttScaleY>1</ttScaleY>
                        <ttActionEaseMode>easeBounceOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>startEndDecoration.1</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>   
            <ttMacroInvoke macro_name="UIOrnamentChildSparkles"/>     
            <ttObjects>
                <ttObject>
                    <ttImage>images/fullBlocker.png</ttImage>
                    <ttBasePosition x="5" y="3" />
                    <ttZOrder>30</ttZOrder>
                    <ttType>particles</ttType>
                    <ttParticles>
                        <ttParticlesPlist>images/particles/snowOrnamentParticles.plist</ttParticlesPlist>
                    </ttParticles>
                    <ttActionsGroup>
                        <ttTrigger>automatic</ttTrigger>
                        <ttTriggerDelay>2.5</ttTriggerDelay>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>delay</ttType>
                                <ttActionDuration>0</ttActionDuration>
                            </ttAction>
                        </ttSequenceGroup>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>startParticles</ttType>
                            </ttAction>
                        </ttSequenceGroup>
                    </ttActionsGroup>
                </ttObject>
                <ttObject>
                    <ttImage>images/fullBlocker.png</ttImage>
                    <ttBasePosition x="5" y="3" />
                    <ttZOrder>30</ttZOrder>
                    <ttType>particles</ttType>
                    <ttParticles>
                        <ttParticlesPlist>images/particles/ornametsParticles.plist</ttParticlesPlist>
                    </ttParticles>
                    <ttActionsGroup>
                        <ttTrigger>automatic</ttTrigger>
                        <ttTriggerDelay>2.5</ttTriggerDelay>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>delay</ttType>
                                <ttActionDuration>0</ttActionDuration>
                            </ttAction>
                        </ttSequenceGroup>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>startParticles</ttType>
                            </ttAction>
                        </ttSequenceGroup>
                    </ttActionsGroup>
                </ttObject>
            </ttObjects>
        </ttObject>
        <ttObject> <!-- ornament -->
            <ttImage>images/level01/ornamentBall_00.png</ttImage>
            <ttAnchorPositionX>0.50</ttAnchorPositionX>
            <ttAnchorPositionY>1.00</ttAnchorPositionY>
            <ttBasePosition x="75" y="79.2966" />
            <ttScale>0</ttScale>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>startEndDecoration.1</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.6</ttScaleX>
                        <ttScaleY>0.6</ttScaleY>
                        <ttActionEaseMode>easeBounceOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>startEndDecoration.2</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttMacroInvoke macro_name="UIOrnamentChildSparkles"/>
            <ttObjects>
                <ttObject>
                    <ttImage>images/fullBlocker.png</ttImage>
                    <ttBasePosition x="5" y="3" />
                    <ttZOrder>30</ttZOrder>
                    <ttType>particles</ttType>
                    <ttParticles>
                        <ttParticlesPlist>images/particles/snowOrnamentParticles.plist</ttParticlesPlist>
                    </ttParticles>
                    <ttActionsGroup>
                        <ttTrigger>notification</ttTrigger>
                        <ttNotificationIdentifyer>startEndDecoration.1</ttNotificationIdentifyer>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>delay</ttType>
                                <ttActionDuration>0</ttActionDuration>
                            </ttAction>
                        </ttSequenceGroup>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>startParticles</ttType>
                            </ttAction>
                        </ttSequenceGroup>
                    </ttActionsGroup>
                </ttObject>
                <ttObject>
                    <ttImage>images/fullBlocker.png</ttImage>
                    <ttBasePosition x="5" y="3" />
                    <ttZOrder>30</ttZOrder>
                    <ttType>particles</ttType>
                    <ttParticles>
                        <ttParticlesPlist>images/particles/ornametsParticles.plist</ttParticlesPlist>
                    </ttParticles>
                    <ttActionsGroup>
                        <ttTrigger>notification</ttTrigger>
                        <ttNotificationIdentifyer>startEndDecoration.1</ttNotificationIdentifyer>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>delay</ttType>
                                <ttActionDuration>0</ttActionDuration>
                            </ttAction>
                        </ttSequenceGroup>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>startParticles</ttType>
                            </ttAction>
                        </ttSequenceGroup>
                    </ttActionsGroup>
                </ttObject>
            </ttObjects>
        </ttObject>
        <ttObject> <!-- missletoe -->
            <ttImage>images/level01/ornamentMisletoe.png</ttImage>
            <ttBasePosition x="18.75" y="18.75" />
            <ttScale>0</ttScale>
            <ttObjects>
                <ttObject>
                    <ttImage>images/fullBlocker.png</ttImage>
                    <ttBasePosition x="0" y="0" />
                    <ttType>particles</ttType>
                    <ttParticles>
                        <ttParticlesPlist>images/particles/snowCureParticles.plist</ttParticlesPlist>
                    </ttParticles>
                    <ttActionsGroup>
                        <ttTrigger>notification</ttTrigger>
                        <ttNotificationIdentifyer>startEndDecoration.2</ttNotificationIdentifyer>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>delay</ttType>
                                <ttActionDuration>0</ttActionDuration>
                            </ttAction>
                        </ttSequenceGroup>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>startParticles</ttType>
                            </ttAction>
                        </ttSequenceGroup>
                    </ttActionsGroup>
                </ttObject>
            </ttObjects>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>startEndDecoration.2</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>1</ttScaleX>
                        <ttScaleY>1</ttScaleY>
                        <ttActionEaseMode>easeBounceOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>startEndDecoration.3</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject> <!-- missletoe -->
            <ttImage>images/level01/ornamentMisletoe.png</ttImage>
            <ttBasePosition x="9.89583" y="48.3073" />
            <ttScale>0</ttScale>
            <ttObjects>
                <ttObject>
                    <ttImage>images/fullBlocker.png</ttImage>
                    <ttBasePosition x="0" y="0" />
                    <ttType>particles</ttType>
                    <ttParticles>
                        <ttParticlesPlist>images/particles/snowCureParticles.plist</ttParticlesPlist>
                    </ttParticles>
                    <ttActionsGroup>
                        <ttTrigger>notification</ttTrigger>
                        <ttNotificationIdentifyer>startEndDecoration.3</ttNotificationIdentifyer>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>delay</ttType>
                                <ttActionDuration>0</ttActionDuration>
                            </ttAction>
                        </ttSequenceGroup>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>startParticles</ttType>
                            </ttAction>
                        </ttSequenceGroup>
                    </ttActionsGroup>
                </ttObject>
            </ttObjects>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>startEndDecoration.3</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>1</ttScaleX>
                        <ttScaleY>1</ttScaleY>
                        <ttActionEaseMode>easeBounceOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>startEndDecoration.4</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject> <!-- missletoe -->
	        <ttImage>images/level01/ornamentMisletoe.png</ttImage>
	        <ttBasePosition x="42.1875" y="52.0833" />
            <ttScale>0</ttScale>
            <ttObjects>
                <ttObject>
                    <ttImage>images/fullBlocker.png</ttImage>
                    <ttBasePosition x="0" y="0" />
                    <ttType>particles</ttType>
                    <ttParticles>
                        <ttParticlesPlist>images/particles/snowCureParticles.plist</ttParticlesPlist>
                    </ttParticles>
                    <ttActionsGroup>
                        <ttTrigger>notification</ttTrigger>
                        <ttNotificationIdentifyer>startEndDecoration.4</ttNotificationIdentifyer>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>delay</ttType>
                                <ttActionDuration>0</ttActionDuration>
                            </ttAction>
                        </ttSequenceGroup>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>startParticles</ttType>
                            </ttAction>
                        </ttSequenceGroup>
                    </ttActionsGroup>
                </ttObject>
            </ttObjects>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>startEndDecoration.4</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.6</ttScaleX>
                        <ttScaleY>0.6</ttScaleY>
                        <ttActionEaseMode>easeBounceOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>startEndDecoration.5</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject>
            <ttImage>images/level01/ornamentMisletoe.png</ttImage>
            <ttBasePosition x="95.3125" y="37.7604" />
            <ttScale>0</ttScale>
            <ttFlipX>YES</ttFlipX>
            <ttObjects>
                <ttObject>
                    <ttImage>images/fullBlocker.png</ttImage>
                    <ttBasePosition x="0" y="0" />
                    <ttType>particles</ttType>
                    <ttParticles>
                        <ttParticlesPlist>images/particles/snowCureParticles.plist</ttParticlesPlist>
                    </ttParticles>
                    <ttActionsGroup>
                        <ttTrigger>notification</ttTrigger>
                        <ttNotificationIdentifyer>startEndDecoration.4</ttNotificationIdentifyer>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>delay</ttType>
                                <ttActionDuration>0</ttActionDuration>
                            </ttAction>
                        </ttSequenceGroup>
                        <ttSequenceGroup>
                            <ttAction>
                                <ttType>startParticles</ttType>
                            </ttAction>
                        </ttSequenceGroup>
                    </ttActionsGroup>
                </ttObject>
            </ttObjects>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>startEndDecoration.4</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.73</ttScaleX>
                        <ttScaleY>0.73</ttScaleY>
                        <ttActionEaseMode>easeBounceOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject> <!-- ornament pipe -->
            <ttImage>images/level01/ornamentDoor.png</ttImage>
            <ttFlipX>YES</ttFlipX>
            <ttBasePosition x="41.6667" y="71.6668" />
            <ttScale>0</ttScale>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
	            <ttNotificationIdentifyer>startEndDecoration.5</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>1.56</ttScaleX>
                        <ttScaleY>1.56</ttScaleY>
                        <ttActionEaseMode>easeBounceOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>startEndDecoration.6</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject> <!-- ornament pipe -->
            <ttImage>images/level01/ornamentDoor.png</ttImage>
            <ttBasePosition x="85.7639" y="66.7188" />
            <ttScale>0</ttScale>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
	            <ttNotificationIdentifyer>startEndDecoration.6</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>1</ttScaleX>
                        <ttScaleY>1</ttScaleY>
                        <ttActionEaseMode>easeBounceOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject> <!-- ornament pipe -->
            <ttImage>images/level01/ornamentDoor.png</ttImage>
            <ttFlipX>YES</ttFlipX>
            <ttBasePosition x="59.0278" y="66.7188" />
            <ttScale>0</ttScale>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
	            <ttNotificationIdentifyer>startEndDecoration.6</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>1</ttScaleX>
                        <ttScaleY>1</ttScaleY>
                        <ttActionEaseMode>easeBounceOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject> <!-- snow particles -->
            <ttImage>images/fullBlocker.png</ttImage>
            <ttType>particles</ttType>
            <ttBasePosition x="50" y="110" />
            <ttScale>1</ttScale>
            <ttParticles>
                <ttParticlesPlist>images/particles/snowFalling.plist</ttParticlesPlist>
            </ttParticles>
            <ttActionsGroup>
                <ttTrigger>automatic</ttTrigger>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>startParticles</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject> <!-- blocker -->
            <ttImage>images/fullBlocker.png</ttImage>
            <ttBasePosition x="0" y="0" />
            <ttOpacity>0</ttOpacity>
            <ttActionsGroup> <!-- onTouchesBegan -->
                <ttTrigger>onTouchesBegan</ttTrigger>
                <ttSequenceGroup />
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>automatic</ttTrigger>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scale</ttType>
                        <ttActionDuration>0.0</ttActionDuration>
                        <ttScaleTo>1024</ttScaleTo>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>setVariable</ttType>
                        <ttVariable>scaleMap</ttVariable>
                        <ttOperator>
                            <ttScript>return 1</ttScript>
                        </ttOperator>
                    </ttAction>
                    <ttAction>
                        <ttType>setVariable</ttType>
                        <ttVariable>posX</ttVariable>
                        <ttOperator>
                            <ttScript>return 0</ttScript>
                        </ttOperator>
                    </ttAction>
                    <ttAction>
                        <ttType>setVariable</ttType>
                        <ttVariable>posY</ttVariable>
                        <ttOperator>
                            <ttScript>return -100</ttScript>
                        </ttOperator>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>setVariable</ttType>
                        <ttVariable>level07Done</ttVariable>
                        <ttOperator>
                            <ttScript>return 1</ttScript>
                        </ttOperator>
                        <ttSave>1</ttSave>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>delay</ttType>
                        <ttActionDuration>6.5</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>moveToScene</ttType>
                        <ttSceneName>mapScene</ttSceneName>
                        <ttSceneId>1000000</ttSceneId>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
    </ttLayer>
    <ttLayer ttName="uiLayer"> 
        <ttBasePosition x="0" y="0" />
	    <ttObject> <!-- home -->
            <ttImage>images/iconsUI/homeBtn.png</ttImage>
	        <ttBasePosition x="90" y="91" />
			<ttActionsGroup>
				<ttTrigger>onTouchesBegan</ttTrigger>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>logEvent</ttType>
                        <ttLogEventName>Button_Click_Levels1_8</ttLogEventName>
                        <ttLogEventParam>Level_7</ttLogEventParam>
                        <ttLogEventVal>Home</ttLogEventVal>
                    </ttAction>
                </ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>playSound</ttType>
						<ttFile>sounds/button_press.mp3</ttFile>
					</ttAction>
					<ttAction>
						<ttType>scaleXy</ttType>
						<ttActionDuration>0.12</ttActionDuration>
						<ttActionEaseRate>2.00</ttActionEaseRate>
						<ttActionEaseMode>easeInOut</ttActionEaseMode>
						<ttScaleX>0.85</ttScaleX>
						<ttScaleY>1.15</ttScaleY>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>scaleXy</ttType>
						<ttActionDuration>0.12</ttActionDuration>
						<ttActionEaseRate>2.00</ttActionEaseRate>
						<ttActionEaseMode>easeInOut</ttActionEaseMode>
						<ttScaleX>1.1</ttScaleX>
						<ttScaleY>0.9</ttScaleY>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>scaleXy</ttType>
						<ttActionDuration>0.12</ttActionDuration>
						<ttActionEaseRate>2.00</ttActionEaseRate>
						<ttActionEaseMode>easeBackOut</ttActionEaseMode>
						<ttScaleX>1</ttScaleX>
						<ttScaleY>1</ttScaleY>
					</ttAction>
				</ttSequenceGroup>
				<ttSequenceGroup>
					<ttAction>
						<ttType>delay</ttType>
						<ttActionDuration>0.4</ttActionDuration>
					</ttAction>
				</ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>loadLayer</ttType>
                        <ttData>backToMapPopup</ttData>
                    </ttAction>
                </ttSequenceGroup>
			</ttActionsGroup>
		</ttObject>
    </ttLayer>
	<ttMacroInvoke macro_name="progressAndHintLayer">
		<ttMacroParam name="$step" value="16.7"/>
		<ttMacroParam name="$items" value="6"/>
		<ttMacroParam name="$flurryVal" value="Level_7_Hidden_Items"/>
		<ttMacroParam name="$curHO" value="2"/>
	</ttMacroInvoke>
    <ttMacroInvoke macro_name="backToMap">
        <ttMacroParam name="$posXVar" value="0"/>
        <ttMacroParam name="$posYVar" value="-100"/>
        <ttMacroParam name="$flurryName" value="Button_Click_Levels1_8"/>
        <ttMacroParam name="$flurryParam" value="Level_7"/>
    </ttMacroInvoke>
    <ttMacroInvoke macro_name="storyLayer">
		<ttMacroParam name="$storyNum" value="7"/>
        <ttMacroParam name="$storyNarration" value="sounds/stories/story8.mp3"/>
        <ttMacroParam name="$delayForClose" value="9"/>
    </ttMacroInvoke>
</ttScene>