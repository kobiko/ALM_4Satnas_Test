<ttMacro name="confetti">
    <ttMacroParams>
        <ttMacroParamDef name="$id"/>
        <ttMacroParamDef name="$confettiNo"/>
        <ttMacroParamDef name="$image"/>
        <ttMacroParamDef name="$posX"/>
        <ttMacroParamDef name="$posY"/>
        <ttMacroParamDef name="$targetpickedup"/>
        <ttMacroParamDef name="$targetdropped"/>
        <ttMacroParamDef name="$pointerPosX"/>
        <ttMacroParamDef name="$pointerPosY"/>
        <ttMacroParamDef name="$pointerFlipX"/>
        <ttMacroParamDef name="$pointerRotate"/>
        <ttMacroParamDef name="$specificCured"/>
    </ttMacroParams>
    <ttMacroBody> 
        <ttObject> <!-- pointer -->
            <ttImage>images/tools/pointer.png</ttImage>
            <ttBasePosition x="$pointerPosX" y="$pointerPosY" />
            <ttAnchorPositionX>0</ttAnchorPositionX>
            <ttAnchorPositionY>0</ttAnchorPositionY>
            <ttFlipX>$pointerFlipX</ttFlipX>
            <ttRotate>$pointerRotate</ttRotate>
            <ttVisible>no</ttVisible>
            <ttScale>0.65</ttScale>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>tweezers.began</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>bringToFront</ttType>
                    </ttAction>
                    <ttAction>
                        <ttType>makeVisible</ttType>
                    </ttAction>
                    <ttAction>
                        <ttType>fadeTo</ttType>
                        <ttOpacity>255</ttOpacity>
                        <ttActionDuration>0.1</ttActionDuration>
                    </ttAction>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                    <ttAction>
                        <ttType>fadeTo</ttType>
                        <ttOpacity>0</ttOpacity>
                        <ttActionDuration>0.25</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>tweezers.targetpickedup</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>stopRunningActions</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>tweezers.ended</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>stopRunningActions</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$specificCured</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>moveToPoint</ttType>
                        <ttFinalPosition x="-121.3542" y="119.5508"/>
                        <ttActionDuration>0</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject><!--confetti-->
            <ttImage>$image</ttImage>
            <ttBasePosition x="$posX" y="$posY" />
            <ttId>$id</ttId>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>tweezers.target.activate</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendMessageToController</ttType>
                        <ttControllerName>tweezers</ttControllerName>
                        <ttMessage>activate</ttMessage>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$targetpickedup</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>setVariable</ttType>
                        <ttVariable>whichConfetti</ttVariable>
                        <ttOperator>
                            <ttScript>return $confettiNo</ttScript>
                        </ttOperator>
                    </ttAction>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$targetdropped</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeVisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>tweezers.cured.specific</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>$specificCured</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject>
            <ttImage>images/fullBlocker.png</ttImage>
            <ttBasePosition x="$posX" y="$posY" />
            <ttType>particles</ttType>
            <ttParticles>
                <ttParticlesPlist>images/particles/snowCureParticles.plist</ttParticlesPlist>
            </ttParticles>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$specificCured</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>startParticles</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
    </ttMacroBody>      
</ttMacro>

<ttMacro name="messyHair">
    <ttMacroParams>
        <ttMacroParamDef name="$imagePath"/>
        <ttMacroParamDef name="$scale"/>
        <ttMacroParamDef name="$posX"/>
        <ttMacroParamDef name="$posY"/>
        <ttMacroParamDef name="$id"/>
        <ttMacroParamDef name="$pointerPosX"/>
        <ttMacroParamDef name="$pointerPosY"/>
        <ttMacroParamDef name="$pointerFlipX"/>
        <ttMacroParamDef name="$pointerRotate"/>
        <ttMacroParamDef name="$specificCured"/>
        <ttMacroParamDef name="$curedNotif"/>
        <ttMacroParamDef name="$cured1Notif"/>
        <ttMacroParamDef name="$cured2Notif"/>
    </ttMacroParams>
    <ttMacroBody>
        <ttObject> <!-- pointer -->
            <ttImage>images/tools/pointer.png</ttImage>
            <ttBasePosition x="$pointerPosX" y="$pointerPosY" />
            <ttAnchorPositionX>0</ttAnchorPositionX>
            <ttAnchorPositionY>0</ttAnchorPositionY>
            <ttFlipX>$pointerFlipX</ttFlipX>
            <ttRotate>$pointerRotate</ttRotate>
            <ttVisible>no</ttVisible>
            <ttScale>0.65</ttScale>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>comb.began</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>bringToFront</ttType>
                    </ttAction>
                    <ttAction>
                        <ttType>makeVisible</ttType>
                    </ttAction>
                    <ttAction>
                        <ttType>fadeTo</ttType>
                        <ttOpacity>255</ttOpacity>
                        <ttActionDuration>0.1</ttActionDuration>
                    </ttAction>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                    <ttAction>
                        <ttType>fadeTo</ttType>
                        <ttOpacity>0</ttOpacity>
                        <ttActionDuration>0.25</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>comb.ended</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>stopRunningActions</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$specificCured</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>moveToPoint</ttType>
                        <ttFinalPosition x="-121.3542" y="119.5508"/>
                        <ttActionDuration>0</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>stopRunningActions</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject>
            <ttImage>$imagePath</ttImage>
            <ttScale>$scale</ttScale>
            <ttBasePosition x="$posX" y="$posY" />
            <ttId>$id</ttId>
            <ttCollision>
                <ttCollisionAnchorPoint x="0.5" y="0.5"/>
                <ttCollisionRadius>4</ttCollisionRadius>
            </ttCollision>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>comb.target.activate</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendMessageToController</ttType>
                        <ttControllerName>comb</ttControllerName>
                        <ttMessage>activate</ttMessage>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$cured1Notif</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>hairParticlesStart</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>fadeTo</ttType>
                        <ttOpacity>200</ttOpacity>
                        <ttActionDuration>0.2</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>delay</ttType>
                        <ttActionDuration>0.2</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$cured2Notif</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>hairParticlesStart</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>fadeTo</ttType>
                        <ttOpacity>100</ttOpacity>
                        <ttActionDuration>0.2</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>delay</ttType>
                        <ttActionDuration>0.2</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$curedNotif</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>$specificCured</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>fadeTo</ttType>
                        <ttOpacity>0</ttOpacity>
                        <ttActionDuration>0.2</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>delay</ttType>
                        <ttActionDuration>0.2</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>comb.exit</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>stopRunningActions</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject>
            <ttImage>images/fullBlocker.png</ttImage>
            <ttBasePosition x="$posX" y="$posY" />
            <ttType>particles</ttType>
            <ttParticles>
                <ttParticlesPlist>images/particles/snowCureParticles.plist</ttParticlesPlist>
            </ttParticles>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$specificCured</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>startParticles</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
    </ttMacroBody>      
</ttMacro>

<ttMacro name="gifts">
    <ttMacroParams>
        <ttMacroParamDef name="$id"/>
        <ttMacroParamDef name="$giftsNo"/>
        <ttMacroParamDef name="$image"/>
        <ttMacroParamDef name="$scale"/>
        <ttMacroParamDef name="$posX"/>
        <ttMacroParamDef name="$posY"/>
        <ttMacroParamDef name="$targetpickedup"/>
        <ttMacroParamDef name="$targetdropped"/>
        <ttMacroParamDef name="$pointerPosX"/>
        <ttMacroParamDef name="$pointerPosY"/>
        <ttMacroParamDef name="$pointerFlipX"/>
        <ttMacroParamDef name="$pointerRotate"/>
        <ttMacroParamDef name="$specificCured"/>
    </ttMacroParams>
    <ttMacroBody>
        <ttObject> <!-- pointer -->
            <ttImage>images/tools/pointer.png</ttImage>
            <ttBasePosition x="$pointerPosX" y="$pointerPosY" />
            <ttAnchorPositionX>0</ttAnchorPositionX>
            <ttAnchorPositionY>0</ttAnchorPositionY>
            <ttFlipX>$pointerFlipX</ttFlipX>
            <ttRotate>$pointerRotate</ttRotate>
            <ttVisible>no</ttVisible>
            <ttScale>0.65</ttScale>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>claw.began</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>bringToFront</ttType>
                    </ttAction>
                    <ttAction>
                        <ttType>makeVisible</ttType>
                    </ttAction>
                    <ttAction>
                        <ttType>fadeTo</ttType>
                        <ttOpacity>255</ttOpacity>
                        <ttActionDuration>0.1</ttActionDuration>
                    </ttAction>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.55</ttScaleX>
                        <ttScaleY>0.55</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>scaleXy</ttType>
                        <ttActionDuration>0.25</ttActionDuration>
                        <ttScaleX>0.65</ttScaleX>
                        <ttScaleY>0.65</ttScaleY>
                        <ttActionEaseMode>easeInOut</ttActionEaseMode>
                        <ttActionEaseRate>2.00</ttActionEaseRate>
                    </ttAction>
                    <ttAction>
                        <ttType>fadeTo</ttType>
                        <ttOpacity>0</ttOpacity>
                        <ttActionDuration>0.25</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>claw.targetpickedup</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>stopRunningActions</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>claw.ended</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>stopRunningActions</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$specificCured</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>moveToPoint</ttType>
                        <ttFinalPosition x="-121.3542" y="119.5508"/>
                        <ttActionDuration>0</ttActionDuration>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject><!--gifts-->
            <ttImage>$image</ttImage>
            <ttScale>$scale</ttScale>
            <ttBasePosition x="$posX" y="$posY" />
            <ttId>$id</ttId>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>claw.target.activate</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendMessageToController</ttType>
                        <ttControllerName>claw</ttControllerName>
                        <ttMessage>activate</ttMessage>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$targetpickedup</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>setVariable</ttType>
                        <ttVariable>whichGifts</ttVariable>
                        <ttOperator>
                            <ttScript>return $giftsNo</ttScript>
                        </ttOperator>
                    </ttAction>
                    <ttAction>
                        <ttType>makeInvisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$targetdropped</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>makeVisible</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>claw.cured.specific</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>sendNotification</ttType>
                        <ttNotificationIdentifyer>$specificCured</ttNotificationIdentifyer>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
        <ttObject>
            <ttImage>images/fullBlocker.png</ttImage>
            <ttBasePosition x="$posX" y="$posY" />
            <ttType>particles</ttType>
            <ttParticles>
                <ttParticlesPlist>images/particles/snowCureParticles.plist</ttParticlesPlist>
            </ttParticles>
            <ttActionsGroup>
                <ttTrigger>notification</ttTrigger>
                <ttNotificationIdentifyer>$specificCured</ttNotificationIdentifyer>
                <ttSequenceGroup>
                    <ttAction>
                        <ttType>startParticles</ttType>
                    </ttAction>
                </ttSequenceGroup>
            </ttActionsGroup>
        </ttObject>
    </ttMacroBody>      
</ttMacro>

<ttMacro name="checkmark">
        <ttMacroParams>
            <ttMacroParamDef name="$delay"/>
            <ttMacroParamDef name="$variable"/>
            <ttMacroParamDef name="$posX"/>
            <ttMacroParamDef name="$posY"/>
        </ttMacroParams>
        <ttMacroBody>
            <ttObject><!-- checkmark -->
                <ttImage>images/popUps/checkMarkSign.png</ttImage>
                <ttEnabled>yes</ttEnabled>
                <ttVisible>no</ttVisible>
                <ttBasePosition x="$posX" y="$posY" />
                <ttActionsGroup>
                    <ttTrigger>automatic</ttTrigger>
                    <ttOperator>
                        <ttScript>return ($variable == 1)</ttScript>
                    </ttOperator>
                    <ttSequenceGroup>
                        <ttAction>
                            <ttType>delay</ttType>
                            <ttActionDuration>$delay</ttActionDuration>
                        </ttAction>
                    </ttSequenceGroup>
                    <ttSequenceGroup>
                        <ttAction>
                            <ttType>makeVisible</ttType>
                        </ttAction>
                        <ttAction>
                            <ttType>playSound</ttType>
                            <ttFile>sounds/general/treatment_v.mp3</ttFile>
                        </ttAction>
                    </ttSequenceGroup>
                </ttActionsGroup>
            </ttObject>
        </ttMacroBody>
    </ttMacro>